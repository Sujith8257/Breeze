<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals2.css" />
    <link rel="stylesheet" href="style2.css" />
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-analytics.js";
        import { getAuth, signInWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyDpatn5LWaYjrIJQXfgKORdPcRlkfnwgN4",
            authDomain: "breeze-b6a95.firebaseapp.com",
            projectId: "breeze-b6a95",
            storageBucket: "breeze-b6a95.appspot.com",
            messagingSenderId: "759003817100",
            appId: "1:759003817100:web:240531dc69725c49eb87a9",
            measurementId: "G-VZN5K4GC83"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();

        window.validateForm = function(event) {
            event.preventDefault(); // Prevent form from submitting
            
            const email = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            // Check if fields are empty
            if (!email || !password) {
                alert("Please fill in all required fields.");
            } else {
                signInWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                        const user = userCredential.user;
                        alert('Successfully logged in!');
                        // Redirect or do something after successful login
                        window.location.href = "index4.html";
                    })
                    .catch((error) => {
                        const errorMessage = error.message;
                        alert(errorMessage);
                    });
            }
        }

        window.redirectToForgotPassword = function() {
            window.location.href = "index6.html"; // Redirect to forgot password page
        }
    </script>
</head>
<body>
    <div class="login">
        <div class="overlap-wrapper">
            <div class="overlap">
                <div class="frame"></div>
                <div class="rectangle"></div>
                <div class="overlap-group-wrapper">
                    <form onsubmit="validateForm(event)">
                        <div class="fram">
                            <button type="submit">
                                <div class="text-wrapper">Login</div>
                                <img class="img" src="img/rectangle-2.png" />
                            </button>
                        </div>
                    </form>
                </div>
                <img class="logo-no-background" src="img/logo-no-background-1.png" />
                <div class="text-wrapper-2 forgot-password" onclick="redirectToForgotPassword()">Forgot Password?</div>
                <div class="text-wrapper-3">
                    <div class="form-control">
                        <input type="email" id="username" required="required" />
                        <label>
                            <span style="transition-delay:0ms">Username</span>
                        </label>
                    </div>
                </div>

                <div class="password">
                    <div class="pass">
                        <input class="input" id="password" type="password" required="required" />
                        <label>
                            <span style="transition-delay:0ms">Enter Password</span>
                        </label>
                    </div>
                </div>

                <img class="user-name-logo" src="img/user-name-logo-1.png" />
                <img class="password-2" src="img/password-1.png" />
            </div>
        </div>
    </div>
</body>
</html>
