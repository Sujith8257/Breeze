<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style6.css" />
    <script type="module">
      // Import Firebase modules
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
      import { getAuth, sendPasswordResetEmail } from 'https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js';

      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyDpatn5LWaYjrIJQXfgKORdPcRlkfnwgN4",
        authDomain: "breeze-b6a95.firebaseapp.com",
        projectId: "breeze-b6a95",
        storageBucket: "breeze-b6a95.appspot.com",
        messagingSenderId: "759003817100",
        appId: "1:759003817100:web:240531dc69725c49eb87a9",
        measurementId: "G-VZN5K4GC83"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      window.onload = () => {
        const resetPasswordForm = document.getElementById('reset-password-form');

        resetPasswordForm.addEventListener('submit', async (e) => {
          e.preventDefault();  // Prevent form from submitting the traditional way

          const email = document.getElementById('login-email').value;
          const auth = getAuth();

          // Send password reset email
          sendPasswordResetEmail(auth, email)
            .then(() => {
              // Display success message
              alert('Password reset email sent successfully!');
            })
            .catch((error) => {
              // Handle errors here
              const errorCode = error.code;
              const errorMessage = error.message;
              if (errorCode === 'auth/user-not-found') {
                alert('No user found with this email address.');
              } else if (errorCode === 'auth/invalid-email') {
                alert('Invalid email address.');
              } else {
                alert(errorMessage);
              }
            });
        });
      };
    </script>
  </head>
  <body>
    <div class="forget-password">
      <div class="overlap-wrapper">
        <div class="overlap">
          <img class="rectangle" src="img/rectangle.png" />
          <div class="frame">
            <div class="rectangle"></div>
            <div class="sign-up">
              <form id="reset-password-form">
                <button type="submit" class="sign-up-btn">
                  <div class="overlap-group">
                    <div class="resend">Send Reset Link</div>
                    <div class="rectangle1"></div>
                  </div>
                </button>
              </form>
              <div class="email">
                <div class="form">
                  <input type="email" id="login-email" required />
                  <label>
                    <span style="transition-delay:0ms">Enter Email Id</span>
                  </label>
                </div>
              </div>
              <div class="div"></div>
              <img class="logo-no-background" src="img/logo-no-background-1.png" />
              <img class="email1" src="img/email-1.png" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
